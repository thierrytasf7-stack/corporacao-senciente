---
template-id: transcript-metadata
name: Transcript Metadata Record
version: 1.0.0
description: Metadata for video/audio transcripts including diarization, quality metrics, and file paths

output-format: json
output-filename: "{{source_id}}_metadata.json"
output-title: "Transcript Metadata - {{title}}"

workflow-mode: automated
elicit: false

usage-context: Generated by youtube-specialist or podcast collector after transcription

placeholders:
  - name: source_id
    type: string
    description: Unique source identifier
    required: true
    example: "lex-fridman-sama"

  - name: source_type
    type: enum
    description: Type of source
    required: true
    options: ["youtube", "podcast"]
    example: "youtube"

  - name: url
    type: url
    description: Original source URL
    required: true
    example: "https://youtube.com/watch?v=abc123"

  - name: title
    type: string
    description: Video/podcast title
    required: true
    example: "Sam Altman: OpenAI, GPT-5, Sora"

  - name: duration_seconds
    type: integer
    description: Total duration in seconds
    required: true
    example: 7842

  - name: transcript.method
    type: enum
    description: Transcription method used
    required: true
    options: ["assemblyai", "youtube-api", "whisper"]
    example: "assemblyai"

  - name: transcript.confidence
    type: float
    description: Overall confidence score (0.0-1.0)
    required: true
    range: [0.0, 1.0]
    example: 0.94

  - name: transcript.total_words
    type: integer
    description: Total word count in transcript
    required: true
    example: 12456

  - name: transcript.speakers
    type: array
    description: Detected speakers
    required: false
    item_structure:
      - speaker_id: string
      - label: string (e.g., "Speaker A", "Lex Fridman")
      - speech_time_seconds: integer
      - word_count: integer
    example: [{"speaker_id": "A", "label": "Lex Fridman", "speech_time_seconds": 2341, "word_count": 3456}]

  - name: diarization.speakers_detected
    type: integer
    description: Number of speakers detected
    required: false
    default: 0
    example: 2

  - name: diarization.target_speaker
    type: string
    description: Identified target speaker (interviewee)
    required: false
    example: "Speaker B (Sam Altman)"

  - name: diarization.target_speech_time_seconds
    type: integer
    description: Target speaker's total speech time
    required: false
    example: 5234

  - name: diarization.target_percentage
    type: float
    description: Percentage of time target speaker spoke
    required: false
    range: [0.0, 100.0]
    example: 66.7

  - name: quality.score
    type: integer
    description: Quality score (0-100)
    required: true
    range: [0, 100]
    example: 92

  - name: quality.acceptable
    type: boolean
    description: Whether quality meets threshold (>85)
    required: true
    example: true

  - name: quality.issues
    type: array
    description: Quality concerns or issues
    required: false
    example: ["Background noise in minutes 12-15", "Unclear speech at 34:22"]

  - name: files.audio
    type: file_path
    description: Path to audio file
    required: true
    example: "downloads/youtube/lex-fridman-sama/audio.mp3"

  - name: files.transcript_full
    type: file_path
    description: Full transcript file
    required: true
    example: "downloads/youtube/lex-fridman-sama/transcript.txt"

  - name: files.transcript_filtered
    type: file_path
    description: Filtered transcript (target speaker only)
    required: false
    example: "downloads/youtube/lex-fridman-sama/transcript_filtered.txt"

  - name: files.metadata
    type: file_path
    description: This metadata file
    required: true
    example: "downloads/youtube/lex-fridman-sama/metadata.json"

  - name: extracted_at
    type: ISO8601
    description: Extraction timestamp
    required: true
    example: "2025-10-07T14:30:00Z"

validation:
  - source_id must not be empty
  - duration_seconds must be positive
  - transcript.confidence must be 0.0-1.0
  - quality.score must be 0-100
  - All file paths must exist
  - extracted_at must be valid ISO8601

related_templates:
  - collection-summary.yaml
  - collection-log.md

related_tasks:
  - collect-youtube.md
  - collect-podcasts.md
---

{
  "source_id": "",
  "source_type": "youtube|podcast",
  "url": "",
  "title": "",
  "duration_seconds": 0,
  "transcript": {
    "method": "assemblyai|youtube-api",
    "confidence": 0.0,
    "total_words": 0,
    "speakers": []
  },
  "diarization": {
    "speakers_detected": 0,
    "target_speaker": "",
    "target_speech_time_seconds": 0,
    "target_percentage": 0.0
  },
  "quality": {
    "score": 0,
    "acceptable": false,
    "issues": []
  },
  "files": {
    "audio": "",
    "transcript_full": "",
    "transcript_filtered": "",
    "metadata": ""
  },
  "extracted_at": ""
}
